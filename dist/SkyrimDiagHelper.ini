[SkyrimDiagHelper]
; Seconds without main-thread heartbeat to consider a hang
HangThresholdInGameSec=10
; Exiting the game usually happens from menus and can take longer than normal gameplay stalls.
; Use a more conservative threshold in menus to avoid generating hang dumps on normal shutdown.
HangThresholdInMenuSec=30
; Modpack environments can take several minutes to load. 10 minutes is a practical default.
HangThresholdLoadingSec=600

; Alt-Tab/background pause handling:
; When Skyrim is not the foreground window, it may intentionally stop the main thread/heartbeat.
; To avoid generating hang dumps just because the user Alt-Tabs, suppress auto hang dumps while not foreground.
; Set to 0 if you want background hangs to still generate dumps (may increase false positives).
SuppressHangWhenNotForeground=1
; When returning to foreground after a background pause, wait a short grace period before capturing a hang.
; This avoids false hang dumps if the game resumes heartbeats a moment after focus is restored.
ForegroundGraceSec=5

; 0=MiniDumpNormal, 1=WithThreadInfo+HandleData+UnloadedModules (default), 2=FullMemory
DumpMode=1

; Output directory for dumps/logs (blank = next to exe)
OutputDir=

; Manual capture hotkey (Ctrl+Shift+F12) to avoid waiting for the loading threshold.
EnableManualCaptureHotkey=1

; Automatically run SkyrimDiagDumpTool.exe after a dump is written.
; This creates easy-to-read files next to the dump (Summary.json / Report.txt / Blackbox.jsonl).
AutoAnalyzeDump=1
DumpToolExe=SkyrimDiagDumpTool.exe

; Adaptive loading threshold:
; Learns recent "Loading Menu" durations and adjusts hang detection for loading screens.
; - Fast setups: captures infinite loading in a few minutes
; - Heavy setups: avoids false positives on long loads
EnableAdaptiveLoadingThreshold=1
AdaptiveLoadingMinSec=120
AdaptiveLoadingMinExtraSec=120
AdaptiveLoadingMaxSec=1800
